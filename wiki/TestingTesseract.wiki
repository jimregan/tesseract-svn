#summary How to run UNLV tests on Tesseract.

= Introduction =

Tesseract 2.0 provides scripts that make it possible to run some of the UNLV tests published in the Fourth Annual Test of OCR Accuracy.
See http://www.isri.unlv.edu/downloads/AT-1995.pdf. The main purpose of providing these test scripts is to enable Tesseract users to verify that their installation is correct, and that no architecture-specific problems are causing bad recognition accuracy. It also serves as a benchmark to demonstrate accuracy improvements of each version. Developers working on Tesseract may find the benchmarking tools useful for measuring experimental new modules.

Note that *some* architecture-specific variation is bound to occur. Most of these should be caused by varying treatment and optimization of floating-point arithmetic between compilers. It is also possible of course that there are memory initialization errors that show up as differences between architectures, but we claim to have found most of these already in the unicodeization process.

= Downloading the images from UNLV =

The current scripts only cover tests of the 3b, Bb, Mb and Nb test sets. The adaptive thresholding in the open-source Tesseract is not the same as in the original as the original adaptive thresholding was not included in the open source release, so the 8 bit grey image tests would not compare correctly, and the other resolutions, while interesting, do not really serve a useful regression testing purpose.

  # Goto http://www.isri.unlv.edu/ISRI/OCRtk and get 3b.tgz, Bb.tgz, Mb.tgz and Nb.tgz.
  # Extract the files. It doesn't really matter where in your filesystem you put them, but they must go under a common root so you have directories 3, B, M and N in, for example, `/users/me/ISRI-OCRtkText` It is probably better to put them outside of your main tesseract-ocr directory, so that they will not have to move when you get the next version.
  # Reorganize the files. The lack of tif extensions on the images is inconvenient, so there is a script to reorganize the data to match the rest of the test scripts. cd to `/users/me/ISRI-OCRtk` or wherever 3, B, M and N ended up and run
{{{
/blah/blah/tesseract-ocr/testing/reorgdata.sh 3B
}}}
(Substitute your own path to your tesseract root directory.) This makes directories doe3.3B, bus.3B, mag.3B and news.3B.
You can now get rid of 3, B, M, and N unless you want to get some of the
other scanning resolutions out of them.

= Downloading the tools from UNLV =

Download the ISRI toolkit from:
http://www.isri.unlv.edu/downloads/ftk-1.0.tgz

If they work for you, use the binaries directly from the bin
directory and put them in tesseract-ocr/testing/unlv
otherwise build the tools for yourself and put them there.

= Running tests =

  # cd to your main tesseract-ocr dir and Build tesseract.
  # Run `testing/runalltests.sh` with the root data dir and testname:
{{{
testing/runalltests.sh /users/me/ISRI-OCRtk tess2.0
}}}
and go to the gym, have lunch etc.

When complete, there should be a file `testing/reports/tess2.0.summary` that contains the final summarized accuracy report and comparison with the 1995 results.



